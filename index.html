<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#faf8f5" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#1a1a1a" media="(prefers-color-scheme: dark)">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="description" content="A daily word puzzle. Use all 18 letters in as few words as you can.">
    <meta name="keywords" content="word game, daily puzzle, word puzzle, spelling game, free word game, letter puzzle, anagram game, brain teaser, vocabulary game, daily brain game, online word game">
    <link rel="canonical" href="https://spellstacks.com/">

    <!-- Open Graph -->
    <meta property="og:title" content="Spellstacks">
    <meta property="og:description" content="A daily word puzzle. Use all 18 letters in as few words as you can.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://spellstacks.com">
    <meta property="og:image" content="https://spellstacks.com/preview.png">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Spellstacks">
    <meta name="twitter:description" content="A daily word puzzle. Use all 18 letters in as few words as you can.">
    <meta name="twitter:image" content="https://spellstacks.com/preview.png">

    <title>Spellstacks - Daily Word Puzzle Game</title>

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Spellstacks",
        "description": "A daily word puzzle game. Use all 18 letters in as few words as you can.",
        "url": "https://spellstacks.com",
        "applicationCategory": "Game",
        "genre": "Word Game",
        "browserRequirements": "Requires JavaScript",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        }
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "What is Spellstacks?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Spellstacks is a free daily word puzzle game. Each day you get 18 letters and must use all of them by making valid English words. The goal is to use as few words as possible."
                }
            },
            {
                "@type": "Question",
                "name": "How do I play Spellstacks?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Select letters to form words, then tap Add Word. Keep making words until you've used all 18 letters. Try to use longer words to finish with fewer total words."
                }
            }
        ]
    }
    </script>
    <!-- Critical CSS - inlined for fast first paint -->
    <style>
        *{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
        :root{--bg:#f8f7f4;--card:#fff;--text:#2d2d2d;--muted:#6b7280;--accent:#3b7dd8;--tile-border:#e5e5e4}
        @media(prefers-color-scheme:dark){:root{--bg:#171717;--card:#262626;--text:#f5f5f4;--muted:#a1a1aa;--accent:#5b9ae8;--tile-border:#404040}}
        html,body{height:100vh;height:100dvh;overflow:hidden}
        body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:var(--bg);color:var(--text)}
        .app{max-width:400px;margin:0 auto;padding:12px 12px 28px;display:flex;flex-direction:column;height:100vh;height:100dvh;overflow:hidden}
        header{text-align:center;padding:4px 0;flex-shrink:0;position:relative;min-height:60px}
        .logo{display:flex;justify-content:center;height:44px}
        .logo-img{height:44px;width:116px}
        .words{min-height:40px}
        .controls{flex:1;display:flex;flex-direction:column}
        .builder{min-height:48px}
        .rack{display:grid;grid-template-columns:repeat(6,1fr);gap:6px}
        .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
        .modal{display:none}
        .modal.show{display:flex}
    </style>
    <!-- Deferred main stylesheet -->
    <link rel="preload" href="css/style.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="css/style.css"></noscript>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/icon-96.png">
    <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
</head>
<body>
    <!-- Screen reader announcements -->
    <div id="srAnnounce" class="sr-only" aria-live="polite" aria-atomic="true"></div>

    <main class="app" role="main">
        <header>
            <h1 class="logo">
                <picture>
                    <source srcset="logo-sm.webp 116w, logo-md.webp 169w" sizes="(min-width: 700px) 169px, 116px" type="image/webp">
                    <source srcset="logo-sm.png 116w, logo-md.png 169w" sizes="(min-width: 700px) 169px, 116px" type="image/png">
                    <img src="logo-sm.png" alt="Spellstacks" class="logo-img" width="116" height="44">
                </picture>
            </h1>
            <span class="date" id="date"></span>
            <button class="icon-btn" id="statsBtn" aria-label="View statistics">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                    <path d="M18 20V10M12 20V4M6 20v-6"/>
                </svg>
            </button>
        </header>

        <p class="objective">Select letters to make words. Use all of the letters to complete the puzzle.</p>

        <div class="words" id="words" data-nosnippet></div>

        <div class="controls" data-nosnippet>
            <div class="builder-group">
                <div class="builder" id="builder">
                    <span class="hint">Select letters below</span>
                </div>

                <div class="actions" id="actions">
                    <button class="btn primary" id="addBtn">Add Word</button>
                </div>
            </div>

            <div class="rack" id="rack"></div>

            <div class="completed-message" id="completedMessage">
                <p>Nice work. Come back tomorrow for a new puzzle.</p>
                <p class="countdown">Next puzzle in <span id="countdown">--</span></p>
            </div>
        </div>
    </main>

    <!-- Stats Modal -->
    <div class="modal" id="statsModal">
        <div class="modal-content">
            <button class="modal-close" id="closeStats">&times;</button>
            <h2>Statistics</h2>
            <div class="stats-row">
                <div><b id="statPlayed">0</b><br>Played</div>
                <div><b id="statStreak">0</b><br>Streak</div>
                <div><b id="statBest">0</b><br>Best Streak</div>
                <div><b id="statFewest">-</b><br>Fewest Words</div>
            </div>
        </div>
    </div>

    <!-- Complete Modal -->
    <div class="modal" id="completeModal">
        <div class="modal-content">
            <button class="modal-close" id="closeComplete">&times;</button>
            <h2>Puzzle Complete</h2>
            <p class="score-intro">You used all of the letters in only</p>
            <div class="final-score" id="finalScore">0</div>
            <p id="summary">words</p>
            <button class="btn primary" id="shareBtn">Share</button>
            <button class="btn" id="replayBtn">Play Again</button>
            <div class="modal-footer">
                <p>Enjoying Spellstacks? Support is totally optional, but always appreciated.</p>
                <a href="https://buymeacoffee.com/esc861" target="_blank" rel="noopener" class="btn coffee-btn">Buy me a coffee</a>
            </div>
        </div>
    </div>

    <footer class="site-footer">
        <a href="how-to-play.html">How to Play</a> · <a href="privacy.html">Privacy</a> · <a href="https://github.com/Esc861/spellstacks/issues" target="_blank" rel="noopener">Report an issue</a>
    </footer>

    <script src="js/letters.js"></script>
    <script src="js/dictionary.js"></script>
    <script src="js/game.js"></script>
    <script>
    // Register service worker for offline support
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js');
    }
    </script>
</body>
</html>
