<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#f5f4f2" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#232323" media="(prefers-color-scheme: dark)">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="description" content="A daily word puzzle. Use all 18 letters in as few words as you can.">
    <meta name="keywords" content="word game, daily puzzle, word puzzle, spelling game, free word game, letter puzzle, anagram game, brain teaser, vocabulary game, daily brain game, online word game">
    <link rel="canonical" href="https://spellstacks.com/">

    <!-- Open Graph -->
    <meta property="og:title" content="Spellstacks">
    <meta property="og:description" content="A daily word puzzle. Use all 18 letters in as few words as you can.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://spellstacks.com">
    <meta property="og:image" content="https://spellstacks.com/preview.png">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Spellstacks">
    <meta name="twitter:description" content="A daily word puzzle. Use all 18 letters in as few words as you can.">
    <meta name="twitter:image" content="https://spellstacks.com/preview.png">

    <title>Spellstacks - Daily Word Puzzle Game</title>

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Spellstacks",
        "description": "A daily word puzzle game. Use all 18 letters in as few words as you can.",
        "url": "https://spellstacks.com",
        "applicationCategory": "Game",
        "genre": "Word Game",
        "browserRequirements": "Requires JavaScript",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        }
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "What is Spellstacks?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Spellstacks is a free daily word puzzle game. Each day you get 18 letters and must use all of them by making valid English words. The goal is to use as few words as possible."
                }
            },
            {
                "@type": "Question",
                "name": "How do I play Spellstacks?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Select letters to form words, then tap Add Word. Keep making words until you've used all 18 letters. Try to use longer words to finish with fewer total words."
                }
            }
        ]
    }
    </script>
    <!-- Critical CSS - inlined for fast first paint -->
    <style>
        *{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent;touch-action:manipulation}
        :root{--bg:#f8f7f4;--card:#fff;--text:#2d2d2d;--muted:#6b7280;--accent:#3b7dd8;--tile-border:#e5e5e4}
        @media(prefers-color-scheme:dark){:root{--bg:#171717;--card:#262626;--text:#f5f5f4;--muted:#a1a1aa;--accent:#5b9ae8;--tile-border:#404040}}
        html,body{height:100vh;height:100dvh;overflow:hidden}
        body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background-color:#eae8e4;background-image:linear-gradient(to bottom,#f5f4f2 0%,#eae8e4 100%);color:var(--text)}
        @media(prefers-color-scheme:dark){body{background-color:#0f0f0f;background-image:linear-gradient(to bottom,#232323 0%,#0f0f0f 100%)}}
        .app{max-width:400px;margin:0 auto;padding:12px 12px 28px;display:flex;flex-direction:column;height:100vh;height:100dvh;overflow:hidden}
        header{text-align:center;padding:4px 0;flex-shrink:0;position:relative;min-height:60px}
        .logo{display:flex;justify-content:center;height:44px}
        .logo-img{height:44px;width:116px}
        .icon-btn{position:absolute;right:0;top:4px;width:36px;height:36px}
        .date{display:block;font-size:11px;position:relative;top:-6px;margin-bottom:-6px}
        .objective{font-size:14px;margin:8px 0;flex-shrink:0}
        .words{display:flex;flex-direction:column;gap:4px;margin-bottom:4px;flex:1;min-height:0;overflow-y:auto;overflow-x:hidden;padding:8px}
        .controls{display:flex;flex:1;flex-direction:column;flex-shrink:0}
        .builder-group{padding:8px;margin-bottom:4px;flex-shrink:0}
        .builder{display:flex;height:44px;padding:0 44px 0 10px;margin-bottom:8px;flex-shrink:0;overflow:hidden}
        .actions{display:flex;flex-shrink:0}
        .progress-bar{height:3px;margin:4px 0}
        .rack{display:flex;flex-wrap:wrap;gap:4px;padding:8px;margin-bottom:6px;flex-shrink:0}
        .tile{aspect-ratio:1/1.1;border:2px solid var(--tile-border);border-radius:6px}
        .rack .tile{flex:0 0 calc((100% - 32px) / 9)}
        .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
        .modal{display:none}
        .modal.show{display:flex}
        .completed-message{display:none}
        .site-footer{position:fixed;bottom:8px;left:0;right:0;font-size:11px}
        @media(orientation:landscape) and (max-height:500px){header{min-height:0}.logo{display:none}}
    </style>
    <!-- Deferred main stylesheet -->
    <link rel="preload" href="css/style.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="css/style.css"></noscript>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/icon-96.png">
    <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
</head>
<body>
    <div class="ambient-particles" id="ambientParticles"></div>

    <!-- Screen reader announcements -->
    <div id="srAnnounce" class="sr-only" aria-live="polite" aria-atomic="true"></div>

    <main class="app" role="main">
        <header>
            <h1 class="logo">
                <picture>
                    <source media="(min-width: 700px)" srcset="logo-md.webp 1x, logo-md@2x.webp 2x" type="image/webp">
                    <source media="(min-width: 700px)" srcset="logo-md.png 1x, logo-md@2x.png 2x" type="image/png">
                    <source srcset="logo-sm.webp 1x, logo-sm@2x.webp 2x" type="image/webp">
                    <source srcset="logo-sm.png 1x, logo-sm@2x.png 2x" type="image/png">
                    <img src="logo-sm.png" alt="Spellstacks" class="logo-img" width="116" height="44">
                </picture>
            </h1>
            <span class="date" id="date"></span>
            <button class="icon-btn" id="statsBtn" aria-label="View statistics">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                    <path d="M18 20V10M12 20V4M6 20v-6"/>
                </svg>
            </button>
        </header>

        <p class="objective">Choose letters to spell words. Use all of the letters to complete the puzzle.</p>

        <div class="words" id="words" data-nosnippet></div>

        <div class="controls" data-nosnippet>
            <div class="builder-group">
                <div class="builder" id="builder">
                    <span class="hint">Select letters below</span>
                </div>

                <div class="actions" id="actions">
                    <button class="btn primary" id="addBtn">Add Word</button>
                </div>
            </div>

            <div class="progress-bar" id="progressBar"><div class="progress-fill" id="progressFill"></div></div>

            <div class="rack" id="rack"><button class="tile" disabled></button><button class="tile" disabled></button><button class="tile" disabled></button><button class="tile" disabled></button><button class="tile" disabled></button><button class="tile" disabled></button><button class="tile" disabled></button><button class="tile" disabled></button><button class="tile" disabled></button><button class="tile" disabled></button><button class="tile" disabled></button><button class="tile" disabled></button><button class="tile" disabled></button><button class="tile" disabled></button><button class="tile" disabled></button><button class="tile" disabled></button><button class="tile" disabled></button><button class="tile" disabled></button></div>

            <div class="completed-message" id="completedMessage">
                <p>Nice work! Come back tomorrow for a new puzzle.</p>
                <div class="completed-emoji"></div>
                <p class="countdown">Next puzzle in <span id="countdown">--</span></p>
            </div>
        </div>
    </main>

    <!-- Stats Modal -->
    <div class="modal" id="statsModal">
        <div class="modal-content">
            <button class="modal-close" id="closeStats">&times;</button>
            <h2>Statistics</h2>
            <div class="stats-row">
                <div><b id="statPlayed">0</b><br>Played</div>
                <div><b id="statStreak">0</b><br>Spell Streak</div>
                <div><b id="statBest">0</b><br>Best Streak</div>
                <div><b id="statFewest">-</b><br>Fewest Words</div>
            </div>
        </div>
    </div>

    <!-- Complete Modal -->
    <div class="modal" id="completeModal">
        <div class="modal-content">
            <button class="modal-close" id="closeComplete">&times;</button>
            <h2>Puzzle Complete</h2>
            <p class="score-intro">You used all of the letters in only</p>
            <div class="final-score" id="finalScore">0</div>
            <p id="summary">words</p>
            <p class="par-message" id="parMessage"></p>
            <div class="btn-row">
                <button class="btn primary" id="shareBtn">Share</button>
                <button class="btn" id="replayBtn">Play Again</button>
            </div>
            <div class="share-row">
                <button class="btn share-social" id="shareX" aria-label="Share on X">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                </button>
                <button class="btn share-social" id="shareFB" aria-label="Share on Facebook">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                </button>
                <button class="btn share-social" id="shareReddit" aria-label="Share on Reddit">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/></svg>
                </button>
            </div>
            <div class="modal-footer">
                <p>Enjoying Spellstacks? Support is totally optional, but always appreciated.</p>
                <a href="https://buymeacoffee.com/esc861" target="_blank" rel="noopener" class="btn coffee-btn">Buy me a coffee</a>
            </div>
        </div>
    </div>

    <footer class="site-footer">
        <a href="how-to-play.html">How to Play</a> · <a href="privacy.html">Privacy</a> · <a href="https://github.com/Esc861/spellstacks/issues" target="_blank" rel="noopener">Report an issue</a>
    </footer>

    <script src="js/letters.js"></script>
    <script src="js/dictionary.js"></script>
    <script src="js/game.js"></script>
    <script>
    // Register service worker for offline support
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js');
    }
    </script>
</body>
</html>
